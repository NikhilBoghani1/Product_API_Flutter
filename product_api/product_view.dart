import 'dart:convert';import 'package:flutter/material.dart';import 'package:http/http.dart' as http;import 'package:yt_api_call/Product_API/%20model/product_class.dart';import 'package:yt_api_call/product_api/pro_view.dart';class ProductView extends StatefulWidget {  @override  State<ProductView> createState() => _ProductViewState();}class _ProductViewState extends State<ProductView> {  List<Product> products = [];  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        centerTitle: true,        title: Text(          'Product',          style: TextStyle(            fontFamily: "PlusSB",          ),        ),      ),      body: RefreshIndicator(        onRefresh: () async {          print('get Product');          try {            final response =                await http.get(Uri.parse("https://fakestoreapi.com/products"));            final List<dynamic> jsonResponse = jsonDecode(response.body);            List<Product> fetchedProducts = [];            for (int i = 0; i < jsonResponse.length; i++) {              final product = Product(                title: jsonResponse[i]['title'],                price: double.parse(jsonResponse[i]['price'].toString()),                image: jsonResponse[i]['image'],                category: jsonResponse[i]['category'],              );              fetchedProducts.add(product);            }            setState(() {              products = fetchedProducts;            });          } catch (e) {            print('Error fetching products: $e');          }        },        child: ListView.builder(          itemCount: products.length,          itemBuilder: (context, index) {            final product = products[index];            return InkWell(              onTap: () {                Navigator.push(                  context,                  MaterialPageRoute(                    builder: (context) => ViewOfProduct(                      product,                    ), // Pass the actual product instance                  ),                );              },              child: Card(                margin: EdgeInsets.symmetric(horizontal: 20, vertical: 10),                child: ListTile(                  leading: CircleAvatar(                    backgroundImage: NetworkImage(product.image),                  ),                  title: Text(                    product.title,                    overflow: TextOverflow.ellipsis,                  ),                  subtitle: Text(product.category),                ),              ),            );          },        ),      ),    );  }}